<!--pages/express-trace/express-trace.wxml - ç‰©æµè½¨è¿¹é¡µé¢-->
<view class="express-trace-page">
    <!-- åŠ è½½ä¸­ -->
    <view class="loading-state" wx:if="{{loading}}">
        <text>åŠ è½½ä¸­...</text>
    </view>

    <block wx:else>
        <!-- å¿«é€’ä¿¡æ¯å¤´éƒ¨ -->
        <view class="express-header" wx:if="{{expressInfo}}">
            <view class="express-icon">ğŸšš</view>
            <view class="express-detail">
                <view class="express-company">{{expressInfo.company}}</view>
                <view class="express-no-row">
                    <text class="express-no">{{expressInfo.no}}</text>
                    <text class="copy-btn" bindtap="copyExpressNo">å¤åˆ¶</text>
                </view>
                <view class="express-status">
                    <text class="status-label">å½“å‰çŠ¶æ€ï¼š</text>
                    <text class="status-value">{{expressInfo.status}}</text>
                </view>
            </view>
            <view class="refresh-btn" bindtap="onRefresh">
                <text class="refresh-icon">ğŸ”„</text>
            </view>
        </view>

        <!-- ç‰©æµè½¨è¿¹æ—¶é—´çº¿ -->
        <view class="trace-card" wx:if="{{traces.length > 0}}">
            <view class="card-title">ç‰©æµè½¨è¿¹</view>
            <view class="trace-timeline">
                <view
                    class="trace-item {{index === 0 ? 'current' : ''}}"
                    wx:for="{{traces}}"
                    wx:key="index"
                >
                    <view class="trace-dot"></view>
                    <view class="trace-line" wx:if="{{index < traces.length - 1}}"></view>
                    <view class="trace-content">
                        <text class="trace-time">{{item.time}}</text>
                        <text class="trace-desc">{{item.description}}</text>
                        <text class="trace-location" wx:if="{{item.location}}">{{item.location}}</text>
                    </view>
                </view>
            </view>
        </view>

        <!-- æš‚æ— ç‰©æµä¿¡æ¯ -->
        <view class="empty-state" wx:else>
            <view class="empty-icon">ğŸ“¦</view>
            <text class="empty-text">æš‚æ— ç‰©æµä¿¡æ¯</text>
            <text class="empty-hint">å¿«é€’å·²ä¸‹å•ï¼Œè¯·ç¨åæŸ¥çœ‹</text>
        </view>
    </block>
</view>
