<!--pages/refund/refund.wxml - å”®ååˆ—è¡¨é¡µ-->
<view class="refund-page">
    <!-- é¡¶éƒ¨æç¤º -->
    <view class="page-tip">
        <text class="tip-icon">ğŸ’¡</text>
        <text class="tip-text">å¦‚éœ€ç”³è¯·å”®åï¼Œè¯·å‰å¾€è®¢å•è¯¦æƒ…é¡µæ“ä½œ</text>
    </view>

    <!-- åŠ è½½ä¸­ -->
    <view class="loading-box" wx:if="{{loading}}">
        <text class="loading-text">åŠ è½½ä¸­...</text>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:elif="{{refundList.length === 0}}">
        <text class="empty-icon">ğŸ“‹</text>
        <text class="empty-title">æš‚æ— å”®åè®°å½•</text>
        <text class="empty-desc">æ‚¨çš„å”®åç”³è¯·å°†åœ¨è¿™é‡Œæ˜¾ç¤º</text>
    </view>

    <!-- åˆ—è¡¨ -->
    <view class="refund-list" wx:else>
        <view 
            class="refund-card" 
            wx:for="{{refundList}}" 
            wx:key="id"
            bindtap="viewDetail"
            data-id="{{item.id}}"
        >
            <view class="card-header">
                <view class="type-badge {{item.status === 'completed' ? 'completed' : 'processing'}}">
                    {{item.status_label}}
                </view>
                <text class="type-label">{{item.type_label}}</text>
            </view>
            <view class="card-body">
                <image class="product-img" src="{{item.product.cover_image}}" mode="aspectFill"/>
                <view class="product-info">
                    <text class="product-name">{{item.product.name}}</text>
                    <text class="order-no">è®¢å•ï¼š{{item.order_no}}</text>
                    <text class="reason">åŸå› ï¼š{{item.reason}}</text>
                </view>
                <view class="amount-box">
                    <text class="amount-label">é€€æ¬¾</text>
                    <text class="amount-value">Â¥{{item.amount}}</text>
                </view>
            </view>
            <view class="card-footer">
                <text class="time">{{item.created_at}}</text>
                <view class="action-btn">æŸ¥çœ‹è¯¦æƒ… ></view>
            </view>
        </view>
    </view>
</view>
