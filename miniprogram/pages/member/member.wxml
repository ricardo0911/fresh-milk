<!-- pages/member/member.wxml - ä¼šå‘˜ç¤¾åŒº -->
<view class="page-member">
  <!-- é¡¶éƒ¨å¯¼èˆªæ ‡ç­¾ -->
  <view class="top-tabs">
    <view class="tab-item {{currentTab === index ? 'active' : ''}}" 
          wx:for="{{tabs}}" wx:key="index"
          bindtap="switchTab" data-index="{{index}}">
      <text>{{item}}</text>
    </view>
  </view>

  <scroll-view class="main-scroll" scroll-y>
    <!-- æ´»åŠ¨Banner -->
    <view class="promo-banner">
      <view class="banner-overlay"></view>
      <view class="banner-content">
        <text class="banner-title">818ä¼šå‘˜æ—¥å¤§é¦ˆèµ </text>
        <text class="banner-subtitle">å…±èµ´æ²™æ¼ æœ‰æœºä¹‹æ—…</text>
        <view class="banner-btn">æ›´å¥½ç¬é—´å›é¡¾</view>
      </view>
      <text class="banner-tag">ä¼šå‘˜æ¼«è°ˆä¼š</text>
    </view>

    <!-- çƒ­é—¨è¯é¢˜ -->
    <view class="section">
      <view class="section-header">
        <view class="section-title-wrap">
          <text class="section-icon">ğŸ”¥</text>
          <text class="section-title">çƒ­é—¨è¯é¢˜</text>
        </view>
        <text class="section-more" bindtap="viewAllTopics">å…¨éƒ¨è¯é¢˜ ></text>
      </view>
      <scroll-view class="topic-scroll" scroll-x>
        <view class="topic-card" wx:for="{{topics}}" wx:key="id" bindtap="viewTopic" data-id="{{item.id}}">
          <image class="topic-image" src="{{item.image}}" mode="aspectFill" />
          <view class="topic-overlay"></view>
          <text class="topic-name"># {{item.name}}</text>
        </view>
      </scroll-view>
      <view class="topic-dots">
        <view class="dot {{index < 3 ? 'active' : ''}}" wx:for="{{topics}}" wx:key="index"></view>
      </view>
    </view>

    <!-- çƒ­é—¨å†…å®¹ -->
    <view class="section">
      <view class="section-header">
        <view class="section-title-wrap">
          <text class="section-icon">ğŸ“°</text>
          <text class="section-title">çƒ­é—¨å†…å®¹</text>
        </view>
      </view>
      <view class="filter-tabs">
        <view class="filter-tab {{contentFilter === 'all' ? 'active' : ''}}" bindtap="setFilter" data-filter="all">å…¨éƒ¨</view>
        <view class="filter-tab {{contentFilter === 'image' ? 'active' : ''}}" bindtap="setFilter" data-filter="image">å›¾æ–‡</view>
        <view class="filter-tab {{contentFilter === 'video' ? 'active' : ''}}" bindtap="setFilter" data-filter="video">è§†é¢‘</view>
      </view>
    </view>

    <!-- ç€‘å¸ƒæµå†…å®¹ -->
    <view class="waterfall">
      <view class="waterfall-column">
        <view class="post-card" wx:for="{{leftPosts}}" wx:key="id" bindtap="viewPost" data-id="{{item.id}}">
          <image class="post-image" src="{{item.image}}" mode="widthFix" />
          <view class="post-info">
            <view class="user-row">
              <image class="user-avatar" src="{{item.avatar}}" />
              <text class="user-name">{{item.username}}</text>
              <view class="like-wrap">
                <text class="like-icon">â¤ï¸</text>
                <text class="like-count">{{item.likes}}</text>
              </view>
            </view>
            <text class="post-content">{{item.content}}</text>
          </view>
        </view>
      </view>
      <view class="waterfall-column">
        <view class="post-card" wx:for="{{rightPosts}}" wx:key="id" bindtap="viewPost" data-id="{{item.id}}">
          <image class="post-image" src="{{item.image}}" mode="widthFix" />
          <view class="post-info">
            <view class="user-row">
              <image class="user-avatar" src="{{item.avatar}}" />
              <text class="user-name">{{item.username}}</text>
              <view class="like-wrap">
                <text class="like-icon">â¤ï¸</text>
                <text class="like-count">{{item.likes}}</text>
              </view>
            </view>
            <text class="post-content">{{item.content}}</text>
          </view>
        </view>
      </view>
    </view>

    <view class="footer-space"></view>
  </scroll-view>

  <!-- å‘å¸ƒæŒ‰é’® -->
  <view class="publish-btn" bindtap="publishPost">
    <text class="publish-icon">+</text>
  </view>
</view>
