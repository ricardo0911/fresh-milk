<!-- pages/feedback-list/feedback-list.wxml -->
<view class="page-feedback-list">
    <!-- åŠ è½½ä¸­ -->
    <view class="loading-box" wx:if="{{loading}}">
        <view class="loading-spinner"></view>
        <text class="loading-text">åŠ è½½ä¸­...</text>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-box" wx:elif="{{isEmpty}}">
        <text class="empty-icon">ğŸ“</text>
        <text class="empty-text">æš‚æ— åé¦ˆè®°å½•</text>
        <text class="empty-desc">æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Ÿç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å‘Šè¯‰æˆ‘ä»¬</text>
    </view>

    <!-- åé¦ˆåˆ—è¡¨ -->
    <view class="feedback-list" wx:else>
        <view class="feedback-item" wx:for="{{feedbacks}}" wx:key="id" bindtap="viewDetail" data-id="{{item.id}}">
            <!-- å¤´éƒ¨ -->
            <view class="item-header">
                <view class="type-tag">{{item.type_text}}</view>
                <view class="status-tag {{item.status_class}}">{{item.status_text}}</view>
            </view>

            <!-- å†…å®¹ -->
            <view class="item-content">{{item.content}}</view>

            <!-- å›å¤é¢„è§ˆ -->
            <view class="reply-preview" wx:if="{{item.reply}}">
                <view class="reply-label">å®¢æœå›å¤ï¼š</view>
                <view class="reply-text">{{item.reply}}</view>
            </view>

            <!-- åº•éƒ¨ -->
            <view class="item-footer">
                <text class="time">{{item.created_date}}</text>
                <text class="view-detail">æŸ¥çœ‹è¯¦æƒ… ></text>
            </view>
        </view>
    </view>

    <!-- æ–°å»ºåé¦ˆæŒ‰é’® -->
    <view class="fab-btn" bindtap="goToFeedback">
        <text class="fab-icon">+</text>
        <text class="fab-text">æ–°å»ºåé¦ˆ</text>
    </view>
</view>
