<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>周期购管理 - Fresh Milk 管理后台</title>
    <link rel="stylesheet" href="css/admin.css">
</head>

<body>
    <div class="admin-container">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo"><span class="logo-icon">🥛</span><span class="logo-text">Fresh Milk</span></div>
            </div>
            <nav class="nav-menu">
                <a href="index.html" class="nav-item"><span class="nav-icon">📊</span><span
                        class="nav-label">数据概览</span></a>
                <a href="orders.html" class="nav-item"><span class="nav-icon">📦</span><span
                        class="nav-label">订单管理</span></a>
                <a href="products.html" class="nav-item"><span class="nav-icon">🛒</span><span
                        class="nav-label">商品管理</span></a>
                <a href="users.html" class="nav-item"><span class="nav-icon">👥</span><span
                        class="nav-label">用户管理</span></a>
                <a href="subscriptions.html" class="nav-item active"><span class="nav-icon">🔄</span><span
                        class="nav-label">周期购管理</span></a>
                <a href="delivery.html" class="nav-item"><span class="nav-icon">🚚</span><span
                        class="nav-label">配送管理</span></a>
                <a href="reviews.html" class="nav-item"><span class="nav-icon">⭐</span><span
                        class="nav-label">评价管理</span></a>
                <a href="aftersales.html" class="nav-item"><span class="nav-icon">🔧</span><span
                        class="nav-label">售后管理</span></a>
            </nav>
        </aside>

        <main class="main-content">
            <header class="top-header">
                <div class="page-info">
                    <h1 class="page-title">周期购管理</h1>
                    <p class="page-subtitle">管理用户订阅和配送计划</p>
                </div>
            </header>

            <!-- 订阅统计 -->
            <section class="stats-grid small">
                <div class="stat-card blue">
                    <div class="stat-icon">🔄</div>
                    <div class="stat-content">
                        <span class="stat-label">活跃订阅</span>
                        <span class="stat-value">156</span>
                    </div>
                </div>
                <div class="stat-card green">
                    <div class="stat-icon">📦</div>
                    <div class="stat-content">
                        <span class="stat-label">今日待配送</span>
                        <span class="stat-value">23</span>
                    </div>
                </div>
                <div class="stat-card orange">
                    <div class="stat-icon">⏰</div>
                    <div class="stat-content">
                        <span class="stat-label">即将到期</span>
                        <span class="stat-value">12</span>
                    </div>
                </div>
                <div class="stat-card purple">
                    <div class="stat-icon">📈</div>
                    <div class="stat-content">
                        <span class="stat-label">续订率</span>
                        <span class="stat-value">78%</span>
                    </div>
                </div>
            </section>

            <!-- 筛选 -->
            <section class="filter-section">
                <div class="filter-tabs">
                    <button class="filter-tab active">全部订阅 <span class="count">186</span></button>
                    <button class="filter-tab">配送中 <span class="count">156</span></button>
                    <button class="filter-tab">已暂停 <span class="count">18</span></button>
                    <button class="filter-tab">已完成 <span class="count">12</span></button>
                </div>
                <div class="filter-bar">
                    <input type="text" class="search-input" placeholder="搜索订阅号/用户名">
                    <select class="select-input">
                        <option value="">配送频率</option>
                        <option value="daily">每日</option>
                        <option value="weekly">每周</option>
                        <option value="biweekly">每两周</option>
                    </select>
                    <button class="btn btn-primary">🔍 搜索</button>
                </div>
            </section>

            <!-- 订阅列表 -->
            <section class="table-section">
                <table class="data-table full-width">
                    <thead>
                        <tr>
                            <th>订阅号</th>
                            <th>用户信息</th>
                            <th>商品信息</th>
                            <th>配送频率</th>
                            <th>配送进度</th>
                            <th>下次配送</th>
                            <th>状态</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="order-no">SUB202401001</td>
                            <td class="user-info">
                                <span class="user-name">张三</span>
                                <span class="user-phone">138****8888</span>
                            </td>
                            <td class="product-info">
                                <div class="product-item">
                                    <img src="https://images.unsplash.com/photo-1563636619-e9143da7973b?w=50&q=80"
                                        alt="">
                                    <span>每日鲜牛奶 ×1</span>
                                </div>
                            </td>
                            <td>每周一次</td>
                            <td>
                                <div class="progress-mini">
                                    <div class="progress-bar-mini">
                                        <div class="progress-fill-mini" style="width: 25%"></div>
                                    </div>
                                    <span>3/12期</span>
                                </div>
                            </td>
                            <td>2024-01-22</td>
                            <td><span class="status active">配送中</span></td>
                            <td class="actions">
                                <button class="btn-action" onclick="viewSubscription('SUB202401001')">查看</button>
                                <button class="btn-action" onclick="pauseSubscription('SUB202401001')">暂停</button>
                            </td>
                        </tr>
                        <tr>
                            <td class="order-no">SUB202401002</td>
                            <td class="user-info">
                                <span class="user-name">李四</span>
                                <span class="user-phone">139****9999</span>
                            </td>
                            <td class="product-info">
                                <div class="product-item">
                                    <img src="https://images.unsplash.com/photo-1550583724-b2692b85b150?w=50&q=80"
                                        alt="">
                                    <span>儿童成长奶 ×2</span>
                                </div>
                            </td>
                            <td>每日配送</td>
                            <td>
                                <div class="progress-mini">
                                    <div class="progress-bar-mini">
                                        <div class="progress-fill-mini" style="width: 75%"></div>
                                    </div>
                                    <span>22/30期</span>
                                </div>
                            </td>
                            <td>2024-01-17</td>
                            <td><span class="status active">配送中</span></td>
                            <td class="actions">
                                <button class="btn-action" onclick="viewSubscription('SUB202401002')">查看</button>
                                <button class="btn-action" onclick="pauseSubscription('SUB202401002')">暂停</button>
                            </td>
                        </tr>
                        <tr>
                            <td class="order-no">SUB202401003</td>
                            <td class="user-info">
                                <span class="user-name">王五</span>
                                <span class="user-phone">137****7777</span>
                            </td>
                            <td class="product-info">
                                <div class="product-item">
                                    <img src="https://images.unsplash.com/photo-1628088062854-d1870b4553da?w=50&q=80"
                                        alt="">
                                    <span>有机纯牛奶 ×1</span>
                                </div>
                            </td>
                            <td>每两周一次</td>
                            <td>
                                <div class="progress-mini">
                                    <div class="progress-bar-mini">
                                        <div class="progress-fill-mini" style="width: 50%"></div>
                                    </div>
                                    <span>4/8期</span>
                                </div>
                            </td>
                            <td>-</td>
                            <td><span class="status paused">已暂停</span></td>
                            <td class="actions">
                                <button class="btn-action" onclick="viewSubscription('SUB202401003')">查看</button>
                                <button class="btn-action primary"
                                    onclick="resumeSubscription('SUB202401003')">恢复</button>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div class="pagination">
                    <span class="page-info">共 186 条记录</span>
                    <div class="page-btns">
                        <button class="page-btn active">1</button>
                        <button class="page-btn">2</button>
                        <button class="page-btn">3</button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        function viewSubscription(id) {
            alert('查看订阅详情：' + id);
        }

        function pauseSubscription(id) {
            if (confirm('确定暂停该订阅吗？')) {
                alert('订阅已暂停');
            }
        }

        function resumeSubscription(id) {
            if (confirm('确定恢复该订阅吗？')) {
                alert('订阅已恢复');
            }
        }

        document.querySelectorAll('.filter-tab').forEach(tab => {
            tab.addEventListener('click', function () {
                document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
            });
        });
    </script>
</body>

</html>